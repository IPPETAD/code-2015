<script src="https://ajax.googleapis.com/ajax/libs/jquery/2.1.3/jquery.min.js"></script>
<script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.2/js/bootstrap.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/knockout/3.3.0/knockout-min.js"></script>
<script src="/js/foursquare.js"></script>
<script src="/js/models.js"></script>
<script>
    function venueList() {
        var self = this;
        self.venueArray = ko.observableArray([]);
        fourSquare('Edmonton, AB', 'convention', function(venues) {
            console.log(venues);
            self.venueArray(venues['response']['venues'].map(
                function(venue) {
                    return new Venue(venue);
                })
            );
        });
    }
    $(document).ready(function() {
        ko.applyBindings(new venueList());
    })
</script>

<script type="text/html" id="venue-template">
    <li>
        <h3 data-bind='text: name'></h3></li>
        Location: <span data-bind="text: location"></span>
    </li>
</script>

<div id='venues'>
    <ul data-bind="template: { name: 'venue-template', foreach: venueArray }">
    </ul>
</div>
